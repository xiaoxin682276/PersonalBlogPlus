<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>æ•°æ®åº“ on æ˜•æŸ“çš„ä¸ªäººåšå®¢</title><link>https://personalblog.xiaoxin520.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/</link><description>Recent content in æ•°æ®åº“ on æ˜•æŸ“çš„ä¸ªäººåšå®¢</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Wed, 03 Dec 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://personalblog.xiaoxin520.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/index.xml" rel="self" type="application/rss+xml"/><item><title>MySQL é¢è¯•å¸¸è§å¢åˆ æ”¹æŸ¥ä¸é«˜é¢‘çŸ¥è¯†ç‚¹æ€»ç»“</title><link>https://personalblog.xiaoxin520.com/p/mysql-crud-interview/</link><pubDate>Wed, 03 Dec 2025 00:00:00 +0000</pubDate><guid>https://personalblog.xiaoxin520.com/p/mysql-crud-interview/</guid><description>&lt;h3 id="mysql-é¢è¯•å¸¸è§å¢åˆ æ”¹æŸ¥ä¸çŸ¥è¯†ç‚¹æ€»ç»“"&gt;MySQL é¢è¯•å¸¸è§å¢åˆ æ”¹æŸ¥ä¸çŸ¥è¯†ç‚¹æ€»ç»“
&lt;/h3&gt;&lt;p&gt;åœ¨é¢è¯•ä¸­ï¼ŒMySQL æ˜¯åç«¯å²—ä½æœ€å¸¸è€ƒçš„åŸºç¡€èƒ½åŠ›ä¹‹ä¸€ã€‚æœ¬æ–‡ä¸ä»…æ€»ç»“äº†å¸¸ç”¨ CRUD è¯­å¥ï¼Œè¿˜åŒ…å«å¸¸è§ç´¢å¼•ã€äº‹åŠ¡ã€é”æœºåˆ¶ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œé€‚ç”¨äºé¢è¯•å¿«é€Ÿå¤ä¹ ã€‚&lt;/p&gt;
&lt;h2 id="-1-åˆ›å»ºè¡¨create-table"&gt;ğŸŸ¢ 1. åˆ›å»ºè¡¨ï¼ˆCREATE TABLEï¼‰
&lt;/h2&gt;&lt;p&gt;CREATE TABLE users (
id INT PRIMARY KEY AUTO_INCREMENT,
name VARCHAR(50) NOT NULL,
age INT CHECK (age &amp;gt;= 0),
email VARCHAR(100) UNIQUE,
status TINYINT DEFAULT 1,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);&lt;/p&gt;
&lt;h2 id="-2-æ’å…¥æ•°æ®insert"&gt;ğŸŸ¡ 2. æ’å…¥æ•°æ®ï¼ˆINSERTï¼‰
&lt;/h2&gt;&lt;p&gt;INSERT INTO users (name, age, email)
VALUES (&amp;lsquo;Alice&amp;rsquo;, 25, &amp;lsquo;&lt;a class="link" href="mailto:alice@example.com" &gt;alice@example.com&lt;/a&gt;&amp;rsquo;);&lt;/p&gt;
&lt;p&gt;INSERT INTO users (name, age, email)
VALUES
(&amp;lsquo;Bob&amp;rsquo;, 30, &amp;lsquo;&lt;a class="link" href="mailto:bob@example.com" &gt;bob@example.com&lt;/a&gt;&amp;rsquo;),
(&amp;lsquo;Charlie&amp;rsquo;, 28, &amp;lsquo;&lt;a class="link" href="mailto:charlie@example.com" &gt;charlie@example.com&lt;/a&gt;&amp;rsquo;);&lt;/p&gt;
&lt;p&gt;INSERT IGNORE INTO users (email) VALUES (&amp;lsquo;&lt;a class="link" href="mailto:alice@example.com" &gt;alice@example.com&lt;/a&gt;&amp;rsquo;);&lt;/p&gt;
&lt;p&gt;REPLACE INTO users(id, name, email)
VALUES (1, &amp;lsquo;Tom&amp;rsquo;, &amp;rsquo;&lt;a class="link" href="mailto:tom@example.com" &gt;tom@example.com&lt;/a&gt;&amp;rsquo;);&lt;/p&gt;
&lt;h2 id="-3-æŸ¥è¯¢æ•°æ®select"&gt;ğŸ”µ 3. æŸ¥è¯¢æ•°æ®ï¼ˆSELECTï¼‰
&lt;/h2&gt;&lt;p&gt;SELECT * FROM users WHERE age &amp;gt; 20;&lt;/p&gt;
&lt;p&gt;SELECT status, COUNT(*) AS total
FROM users
GROUP BY status
HAVING total &amp;gt; 1;&lt;/p&gt;
&lt;p&gt;SELECT * FROM users ORDER BY created_at DESC;&lt;/p&gt;
&lt;p&gt;SELECT * FROM users LIMIT 20 OFFSET 0;&lt;/p&gt;
&lt;p&gt;SELECT * FROM users
WHERE age &amp;gt; (SELECT AVG(age) FROM users);&lt;/p&gt;
&lt;h2 id="-4-æ›´æ–°æ•°æ®update"&gt;ğŸŸ  4. æ›´æ–°æ•°æ®ï¼ˆUPDATEï¼‰
&lt;/h2&gt;&lt;p&gt;UPDATE users
SET age = age + 1
WHERE id = 1;&lt;/p&gt;
&lt;p&gt;UPDATE users
SET age = 26, status = 0
WHERE email = &amp;lsquo;&lt;a class="link" href="mailto:alice@example.com" &gt;alice@example.com&lt;/a&gt;&amp;rsquo;;&lt;/p&gt;
&lt;h2 id="-5-åˆ é™¤æ•°æ®delete"&gt;ğŸ”´ 5. åˆ é™¤æ•°æ®ï¼ˆDELETEï¼‰
&lt;/h2&gt;&lt;p&gt;DELETE FROM users WHERE id = 3;&lt;/p&gt;
&lt;p&gt;DELETE FROM users;&lt;/p&gt;
&lt;p&gt;TRUNCATE TABLE users;&lt;/p&gt;
&lt;h2 id="-6-å¤–é”®foreign-key"&gt;ğŸ§© 6. å¤–é”®ï¼ˆFOREIGN KEYï¼‰
&lt;/h2&gt;&lt;p&gt;CREATE TABLE orders (
id INT PRIMARY KEY AUTO_INCREMENT,
user_id INT,
amount DECIMAL(10,2),
FOREIGN KEY(user_id) REFERENCES users(id)
ON DELETE CASCADE
ON UPDATE CASCADE
);&lt;/p&gt;
&lt;h2 id="-7-ç´¢å¼•index"&gt;ğŸ§± 7. ç´¢å¼•ï¼ˆINDEXï¼‰
&lt;/h2&gt;&lt;p&gt;CREATE INDEX idx_age ON users(age);&lt;/p&gt;
&lt;p&gt;CREATE INDEX idx_name_email ON users(name, email);&lt;/p&gt;
&lt;p&gt;&amp;ndash; ç´¢å¼•é‡ç‚¹ï¼š
&amp;ndash; 1. æœ€å·¦å‰ç¼€åŸåˆ™
&amp;ndash; 2. è¦†ç›–ç´¢å¼•
&amp;ndash; 3. å‰ç¼€æ¨¡ç³ŠæŸ¥è¯¢ç´¢å¼•å¤±æ•ˆï¼ˆLIKE &amp;lsquo;%abc&amp;rsquo;ï¼‰
&amp;ndash; 4. å¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆ&lt;/p&gt;
&lt;h2 id="-8-äº‹åŠ¡transaction"&gt;ğŸ” 8. äº‹åŠ¡ï¼ˆTransactionï¼‰
&lt;/h2&gt;&lt;p&gt;START TRANSACTION;&lt;/p&gt;
&lt;p&gt;UPDATE users SET age = age + 1 WHERE id = 1;
UPDATE accounts SET money = money - 100 WHERE user_id = 1;&lt;/p&gt;
&lt;p&gt;COMMIT;&lt;/p&gt;
&lt;p&gt;&amp;ndash; å›æ»šç¤ºä¾‹
ROLLBACK;&lt;/p&gt;
&lt;p&gt;&amp;ndash; ACID
&amp;ndash; Aï¼šåŸå­æ€§
&amp;ndash; Cï¼šä¸€è‡´æ€§
&amp;ndash; Iï¼šéš”ç¦»æ€§
&amp;ndash; Dï¼šæŒä¹…æ€§&lt;/p&gt;
&lt;h2 id="-9-é”æœºåˆ¶innodb"&gt;ğŸ”’ 9. é”æœºåˆ¶ï¼ˆInnoDBï¼‰
&lt;/h2&gt;&lt;p&gt;&amp;ndash; è¡Œé”ï¼ˆæ’ä»–é”ï¼‰
SELECT * FROM users WHERE id = 1 FOR UPDATE;&lt;/p&gt;
&lt;p&gt;&amp;ndash; å…±äº«é”ï¼ˆè¯»é”ï¼‰
SELECT * FROM users WHERE id = 1 LOCK IN SHARE MODE;&lt;/p&gt;
&lt;p&gt;&amp;ndash; é—´éš™é”ï¼ˆNext-Key Lockï¼‰é€šå¸¸å‡ºç°åœ¨èŒƒå›´æŸ¥è¯¢ä¸­
SELECT * FROM users WHERE age &amp;gt; 20 FOR UPDATE;&lt;/p&gt;
&lt;h2 id="-10-è§†å›¾view"&gt;ğŸ“„ 10. è§†å›¾ï¼ˆVIEWï¼‰
&lt;/h2&gt;&lt;p&gt;CREATE VIEW active_users AS
SELECT id, name FROM users WHERE status = 1;&lt;/p&gt;
&lt;p&gt;UPDATE active_users SET name = &amp;lsquo;NewName&amp;rsquo; WHERE id = 1;&lt;/p&gt;
&lt;h2 id="-11-å­˜å‚¨è¿‡ç¨‹stored-procedure"&gt;âš™ï¸ 11. å­˜å‚¨è¿‡ç¨‹ï¼ˆStored Procedureï¼‰
&lt;/h2&gt;&lt;p&gt;DELIMITER &lt;/p&gt;
$$
CREATE PROCEDURE GetUserCount()
BEGIN
SELECT COUNT(*) FROM users;
END$$&lt;p&gt;
DELIMITER ;&lt;/p&gt;
&lt;p&gt;CALL GetUserCount();&lt;/p&gt;</description></item><item><title>MySQL é¢è¯•é«˜é¢‘é—®ç­”æ€»ç»“ï¼ˆé—®ç­”å®å½•ï¼‰</title><link>https://personalblog.xiaoxin520.com/p/mysql-interview-qa/</link><pubDate>Tue, 25 Nov 2025 00:00:00 +0000</pubDate><guid>https://personalblog.xiaoxin520.com/p/mysql-interview-qa/</guid><description>&lt;img src="https://personalblog.xiaoxin520.com/p/mysql-interview-qa/mysql-qa-cover.jpg" alt="Featured image of post MySQL é¢è¯•é«˜é¢‘é—®ç­”æ€»ç»“ï¼ˆé—®ç­”å®å½•ï¼‰" /&gt;&lt;h4 id="1-mysqlä¸­å¦‚ä½•å®šä½æ…¢æŸ¥è¯¢"&gt;1. MySQLä¸­ï¼Œå¦‚ä½•å®šä½æ…¢æŸ¥è¯¢ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
åœ¨å‹åŠ›æµ‹è¯•æ—¶å‘ç°æ¥å£å“åº”æ—¶é—´æ…¢ï¼Œå¯ä»¥é€šè¿‡è¿ç»´ç›‘æ§ç³»ç»Ÿï¼ˆå¦‚ Skywalkingï¼‰æŸ¥çœ‹å…·ä½“æ¥å£è€—æ—¶å’Œ SQL æ‰§è¡Œæ—¶é—´ã€‚å¦‚æœæ²¡æœ‰ç›‘æ§ç³»ç»Ÿï¼ŒMySQL æä¾›æ…¢æŸ¥è¯¢æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶å¼€å¯ï¼Œå¹¶è®¾ç½®é˜ˆå€¼ï¼ˆä¾‹å¦‚ 2 ç§’ï¼‰ï¼Œè¶…è¿‡é˜ˆå€¼çš„ SQL ä¼šè®°å½•åœ¨æ—¥å¿—ä¸­ï¼Œä»æ—¥å¿—ä¸­æ‰¾åˆ°æ…¢ SQLã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="2-sqlè¯­å¥æ‰§è¡Œå¾ˆæ…¢å¦‚ä½•åˆ†æ"&gt;2. SQLè¯­å¥æ‰§è¡Œå¾ˆæ…¢ï¼Œå¦‚ä½•åˆ†æï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
ä½¿ç”¨ &lt;code&gt;EXPLAIN&lt;/code&gt; å‘½ä»¤åˆ†æ SQL æ‰§è¡Œè®¡åˆ’ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;key&lt;/code&gt; å’Œ &lt;code&gt;key_len&lt;/code&gt;ï¼šæ£€æŸ¥æ˜¯å¦å‘½ä¸­ç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;type&lt;/code&gt;ï¼šæŸ¥çœ‹è®¿é—®ç±»å‹ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨å…¨è¡¨æ‰«æã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Extra&lt;/code&gt;ï¼šåˆ¤æ–­æ˜¯å¦å›è¡¨ï¼Œå¯æ ¹æ®æç¤ºä¼˜åŒ–ç´¢å¼•æˆ–ä¿®æ”¹è¿”å›å­—æ®µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="3-äº†è§£ç´¢å¼•å—ä»€ä¹ˆæ˜¯ç´¢å¼•"&gt;3. äº†è§£ç´¢å¼•å—ï¼Ÿä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
ç´¢å¼•æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºåŠ é€Ÿæ•°æ®æ£€ç´¢ã€æ’åºå’Œåˆ†ç»„ï¼Œé™ä½æ•°æ®åº“ I/O å’Œ CPU æ¶ˆè€—ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="4-ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„äº†è§£å—"&gt;4. ç´¢å¼•çš„åº•å±‚æ•°æ®ç»“æ„äº†è§£å—ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
InnoDB é»˜è®¤ä½¿ç”¨ B+ æ ‘ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èŠ‚ç‚¹å¯ä»¥æœ‰æ›´å¤šå­èŠ‚ç‚¹ï¼Œè·¯å¾„æ›´çŸ­ã€‚&lt;/li&gt;
&lt;li&gt;éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼å’ŒæŒ‡é’ˆï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;å¶å­èŠ‚ç‚¹å½¢æˆåŒå‘é“¾è¡¨ï¼Œé€‚åˆèŒƒå›´æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="5-bæ ‘å’Œbæ ‘çš„åŒºåˆ«"&gt;5. Bæ ‘å’ŒB+æ ‘çš„åŒºåˆ«ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Bæ ‘éå¶å­å’Œå¶å­èŠ‚ç‚¹éƒ½å­˜å‚¨æ•°æ®ï¼›B+æ ‘æ‰€æœ‰æ•°æ®åªåœ¨å¶å­èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;B+æ ‘èŒƒå›´æŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼Œå¶å­èŠ‚ç‚¹å½¢æˆåŒå‘é“¾è¡¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id="6-èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•"&gt;6. èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;èšç°‡ç´¢å¼•ï¼šæ•°æ®ä¸ç´¢å¼•æ”¾ä¸€èµ·ï¼Œå¶å­èŠ‚ç‚¹ä¿å­˜æ•´è¡Œæ•°æ®ï¼Œä¸€èˆ¬ç”±ä¸»é”®æ„æˆã€‚&lt;/li&gt;
&lt;li&gt;éèšç°‡ç´¢å¼•ï¼šæ•°æ®ä¸ç´¢å¼•åˆ†å¼€ï¼Œå¶å­èŠ‚ç‚¹ä¿å­˜ä¸»é”®å€¼ï¼Œå¯æœ‰å¤šä¸ªã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="7-ä»€ä¹ˆæ˜¯å›è¡¨æŸ¥è¯¢"&gt;7. ä»€ä¹ˆæ˜¯å›è¡¨æŸ¥è¯¢ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
é€šè¿‡äºŒçº§ç´¢å¼•è·å–ä¸»é”®å€¼ï¼Œç„¶åå†è®¿é—®èšç°‡ç´¢å¼•ä¸­çš„æ•´è¡Œæ•°æ®ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="8-ä»€ä¹ˆæ˜¯è¦†ç›–ç´¢å¼•"&gt;8. ä»€ä¹ˆæ˜¯è¦†ç›–ç´¢å¼•ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
æŸ¥è¯¢æ‰€éœ€å­—æ®µå…¨éƒ¨åœ¨ç´¢å¼•ä¸­ï¼Œä¸éœ€è¦å›è¡¨ï¼Œå‡å°‘æŸ¥è¯¢æ¬¡æ•°ï¼Œæé«˜æ•ˆç‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="9-mysql-è¶…å¤§åˆ†é¡µå¦‚ä½•å¤„ç†"&gt;9. MySQL è¶…å¤§åˆ†é¡µå¦‚ä½•å¤„ç†ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
ä½¿ç”¨ LIMIT å¤§åˆ†é¡µæ•ˆç‡ä½ã€‚å¯å…ˆæŸ¥è¯¢ ID åˆ—åˆ†é¡µï¼Œå†é€šè¿‡å­æŸ¥è¯¢è¿‡æ»¤æ•°æ®ï¼Œåˆ©ç”¨è¦†ç›–ç´¢å¼•æé«˜æ•ˆç‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="10-ç´¢å¼•åˆ›å»ºåŸåˆ™æœ‰å“ªäº›"&gt;10. ç´¢å¼•åˆ›å»ºåŸåˆ™æœ‰å“ªäº›ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®é‡å¤§ (&amp;gt;10 ä¸‡) æ—¶åˆ›å»ºç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥è¯¢é¢‘ç¹çš„å­—æ®µã€æ’åºå­—æ®µã€åˆ†ç»„å­—æ®µä¼˜å…ˆã€‚&lt;/li&gt;
&lt;li&gt;å°½é‡ä½¿ç”¨å¤åˆç´¢å¼•è¦†ç›–æŸ¥è¯¢å­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;ä½åŒºåˆ†åº¦å­—æ®µæ”¾ç»„åˆç´¢å¼•åé¢ã€‚&lt;/li&gt;
&lt;li&gt;é•¿å­—æ®µå¯ç”¨å‰ç¼€ç´¢å¼•ã€‚&lt;/li&gt;
&lt;li&gt;æ§åˆ¶ç´¢å¼•æ•°é‡ï¼Œå¹³è¡¡å†™å…¥æ€§èƒ½ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="11-ç´¢å¼•ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆ"&gt;11. ç´¢å¼•ä»€ä¹ˆæ—¶å€™ä¼šå¤±æ•ˆï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸éµå¾ªæœ€å·¦åŒ¹é…åŸåˆ™ã€‚&lt;/li&gt;
&lt;li&gt;æ¨¡ç³ŠæŸ¥è¯¢ &lt;code&gt;%xxx&lt;/code&gt; å‰ç½®ã€‚&lt;/li&gt;
&lt;li&gt;ç´¢å¼•å­—æ®µä¸Šåšè¿ç®—æˆ–ç±»å‹è½¬æ¢ã€‚&lt;/li&gt;
&lt;li&gt;å¤åˆç´¢å¼•ä¸­é—´ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ï¼Œå³ä¾§æ¡ä»¶å¤±æ•ˆã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="12-sql-ä¼˜åŒ–ç»éªŒæœ‰å“ªäº›"&gt;12. SQL ä¼˜åŒ–ç»éªŒæœ‰å“ªäº›ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é¿å… SELECT *ï¼Œæ˜ç¡®å­—æ®µã€‚&lt;/li&gt;
&lt;li&gt;èšåˆæŸ¥è¯¢ä½¿ç”¨ UNION ALL ä»£æ›¿ UNIONã€‚&lt;/li&gt;
&lt;li&gt;è¡¨å…³è”ä¼˜å…ˆ INNER JOINï¼Œå°è¡¨é©±åŠ¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸»ä»å¤åˆ¶å’Œè¯»å†™åˆ†ç¦»æå‡æ€§èƒ½ã€‚&lt;/li&gt;
&lt;li&gt;å¤§æ•°æ®é‡è€ƒè™‘åˆ†åº“åˆ†è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="13-åˆ›å»ºè¡¨æ—¶å¦‚ä½•ä¼˜åŒ–"&gt;13. åˆ›å»ºè¡¨æ—¶å¦‚ä½•ä¼˜åŒ–ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
é€‰æ‹©å­—æ®µç±»å‹ä¸å†…å®¹åŒ¹é…ï¼šæ•°å€¼é€‰ TINYINT/INT/BIGINTï¼Œå­—ç¬¦ä¸²é€‰ CHAR/VARCHAR/TEXTï¼Œé¿å…å†—é•¿å­—æ®µã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="14-ä½¿ç”¨ç´¢å¼•æ—¶å¦‚ä½•ä¼˜åŒ–"&gt;14. ä½¿ç”¨ç´¢å¼•æ—¶å¦‚ä½•ä¼˜åŒ–ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
ç¡®ä¿ç´¢å¼•å­—æ®µæ˜¯æŸ¥è¯¢é¢‘ç¹å­—æ®µï¼Œå¤åˆç´¢å¼•è¦†ç›–æŸ¥è¯¢å­—æ®µï¼Œé¿å…åœ¨ç´¢å¼•å­—æ®µä¸Šåšè¿ç®—æˆ–ç±»å‹è½¬æ¢ï¼Œæ§åˆ¶ç´¢å¼•æ•°é‡ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="15-sql-è¯­å¥ä¼˜åŒ–å®è·µ"&gt;15. SQL è¯­å¥ä¼˜åŒ–å®è·µï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡å®šå­—æ®µï¼Œé¿å… SELECT *&lt;/li&gt;
&lt;li&gt;èšåˆä½¿ç”¨ UNION ALL&lt;/li&gt;
&lt;li&gt;è¡¨å…³è”ä¼˜å…ˆ INNER JOINï¼Œå°è¡¨é©±åŠ¨&lt;/li&gt;
&lt;li&gt;LEFT/RIGHT JOIN æ—¶ï¼Œå°è¡¨åšé©±åŠ¨è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="16-äº‹åŠ¡ç‰¹æ€§æ˜¯ä»€ä¹ˆ"&gt;16. äº‹åŠ¡ç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
ACIDï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŸå­æ€§ï¼ˆAtomicityï¼‰&lt;/li&gt;
&lt;li&gt;ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰&lt;/li&gt;
&lt;li&gt;éš”ç¦»æ€§ï¼ˆIsolationï¼‰&lt;/li&gt;
&lt;li&gt;æŒä¹…æ€§ï¼ˆDurabilityï¼‰&lt;br&gt;
ç¤ºä¾‹ï¼šA å‘ B è½¬è´¦ 500 å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="17-å¹¶å‘äº‹åŠ¡å¯èƒ½å¸¦æ¥å“ªäº›é—®é¢˜"&gt;17. å¹¶å‘äº‹åŠ¡å¯èƒ½å¸¦æ¥å“ªäº›é—®é¢˜ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è„è¯»ï¼šè¯»åˆ°æœªæäº¤çš„æ•°æ®&lt;/li&gt;
&lt;li&gt;ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡å†…å¤šæ¬¡è¯»æ•°æ®ä¸ä¸€è‡´&lt;/li&gt;
&lt;li&gt;å¹»è¯»ï¼šè¯»åˆ°å…¶ä»–äº‹åŠ¡æ’å…¥çš„æ–°è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="18-å¦‚ä½•è§£å†³å¹¶å‘é—®é¢˜é»˜è®¤éš”ç¦»çº§åˆ«"&gt;18. å¦‚ä½•è§£å†³å¹¶å‘é—®é¢˜ï¼Ÿé»˜è®¤éš”ç¦»çº§åˆ«ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;br&gt;
ä½¿ç”¨äº‹åŠ¡éš”ç¦»ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;READ UNCOMMITTEDï¼šæœªæäº¤è¯»&lt;/li&gt;
&lt;li&gt;READ COMMITTEDï¼šè§£å†³è„è¯»&lt;/li&gt;
&lt;li&gt;REPEATABLE READï¼ˆMySQL é»˜è®¤ï¼‰ï¼šè§£å†³è„è¯»å’Œä¸å¯é‡å¤è¯»&lt;/li&gt;
&lt;li&gt;SERIALIZABLEï¼šè§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä½†æ€§èƒ½ä½&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="19-redo-log-å’Œ-undo-log-åŒºåˆ«"&gt;19. redo log å’Œ undo log åŒºåˆ«ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;redo logï¼šè®°å½•æ•°æ®é¡µç‰©ç†å˜åŒ–ï¼Œç”¨äºæŒä¹…åŒ–æ¢å¤&lt;/li&gt;
&lt;li&gt;undo logï¼šè®°å½•é€»è¾‘æ—¥å¿—ï¼Œç”¨äºå›æ»šäº‹åŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="20-äº‹åŠ¡éš”ç¦»å¦‚ä½•ä¿è¯mvcc-åŸç†"&gt;20. äº‹åŠ¡éš”ç¦»å¦‚ä½•ä¿è¯ï¼ŸMVCC åŸç†ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MVCC é€šè¿‡ç»´æŠ¤å¤šç‰ˆæœ¬æ•°æ®é¿å…è¯»å†™å†²çª&lt;/li&gt;
&lt;li&gt;éšè—å­—æ®µï¼ˆtrx_id, roll_pointerï¼‰ã€undo logã€read view å¿«ç…§å®ç°&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="21-mysql-ä¸»ä»åŒæ­¥åŸç†"&gt;21. MySQL ä¸»ä»åŒæ­¥åŸç†ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸»åº“å†™ Binlog&lt;/li&gt;
&lt;li&gt;ä»åº“è¯»å– Binlog å†™ Relay Log&lt;/li&gt;
&lt;li&gt;ä»åº“é‡åšæ—¥å¿—äº‹ä»¶æ›´æ–°æ•°æ®&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id="22-é¡¹ç›®ä¸­ä½¿ç”¨è¿‡åˆ†åº“åˆ†è¡¨å—"&gt;22. é¡¹ç›®ä¸­ä½¿ç”¨è¿‡åˆ†åº“åˆ†è¡¨å—ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å‚ç›´æ‹†åˆ†ï¼šå¾®æœåŠ¡å¯¹åº”æ•°æ®åº“&lt;/li&gt;
&lt;li&gt;æ°´å¹³æ‹†åˆ†ï¼šå•è¡¨æ•°æ®é‡å¤§ï¼Œç”¨ mycat æŒ‰ ID å–æ¨¡åˆ†ç‰‡&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="æ€»ç»“"&gt;æ€»ç»“
&lt;/h3&gt;&lt;p&gt;é€šè¿‡æ…¢æŸ¥è¯¢æ—¥å¿—ã€EXPLAIN åˆ†æã€ç´¢å¼•ä¼˜åŒ–ã€äº‹åŠ¡æ§åˆ¶åŠåˆ†åº“åˆ†è¡¨ç­–ç•¥ï¼Œå¯ä»¥æœ‰æ•ˆæå‡ MySQL æ€§èƒ½ï¼Œé¿å…å¤§æ•°æ®é‡ä¸‹çš„æ€§èƒ½ç“¶é¢ˆã€‚&lt;/p&gt;</description></item><item><title>Redis é¢è¯•é¢˜é«˜é¢‘æ€»ç»“ï¼ˆé—®ç­”å®å½•ï¼‰</title><link>https://personalblog.xiaoxin520.com/p/redis-interview-qa/</link><pubDate>Wed, 29 Oct 2025 00:00:00 +0000</pubDate><guid>https://personalblog.xiaoxin520.com/p/redis-interview-qa/</guid><description>&lt;img src="https://personalblog.xiaoxin520.com/p/redis-interview-qa/redis-qa-cover.jpg" alt="Featured image of post Redis é¢è¯•é¢˜é«˜é¢‘æ€»ç»“ï¼ˆé—®ç­”å®å½•ï¼‰" /&gt;&lt;h4 id="1-ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€æ€ä¹ˆè§£å†³"&gt;1. ä»€ä¹ˆæ˜¯ç¼“å­˜ç©¿é€ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šç¼“å­˜ç©¿é€æŒ‡æŸ¥è¯¢ä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ï¼Œç”±äºæ•°æ®åº“æŸ¥ä¸åˆ°ï¼Œä¹Ÿä¸ä¼šå†™å…¥ç¼“å­˜ï¼Œå¯¼è‡´æ¯æ¬¡è¯·æ±‚éƒ½æ‰“åˆ° DBã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³æ–¹æ¡ˆ&lt;/strong&gt;ï¼šä½¿ç”¨ &lt;strong&gt;å¸ƒéš†è¿‡æ»¤å™¨&lt;/strong&gt; æ‹¦æˆªæ— æ•ˆè¯·æ±‚ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="2-ä½ èƒ½ä»‹ç»ä¸€ä¸‹å¸ƒéš†è¿‡æ»¤å™¨å—"&gt;2. ä½ èƒ½ä»‹ç»ä¸€ä¸‹å¸ƒéš†è¿‡æ»¤å™¨å—ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šå¸ƒéš†è¿‡æ»¤å™¨ç”¨æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ã€‚åº•å±‚æ˜¯ä¸€ä¸ª bit æ•°ç»„ï¼Œé€šè¿‡å¤šæ¬¡ hash æŠŠ key æ˜ å°„åˆ°ä¸åŒä½ç½®å¹¶ç½®ä¸º 1ã€‚&lt;br&gt;
æŸ¥æ‰¾æ—¶åªè¦æœ‰ä¸€ä½æ˜¯ 0ï¼Œå°±è¯´æ˜ä¸å­˜åœ¨ã€‚è™½ç„¶æœ‰å°‘é‡è¯¯åˆ¤ï¼ˆä¸€èˆ¬å°äº 5%ï¼‰ï¼Œä½†èƒ½æå¤§èŠ‚çœç©ºé—´ã€‚æˆ‘ä»¬é¡¹ç›®ç”¨çš„æ˜¯ &lt;strong&gt;Redisson çš„å¸ƒéš†è¿‡æ»¤å™¨å®ç°&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="3-ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿æ€ä¹ˆè§£å†³"&gt;3. ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šç¼“å­˜å‡»ç©¿æ˜¯æŒ‡æŸä¸ªçƒ­ç‚¹ key è¿‡æœŸç¬é—´ï¼Œå¤§é‡å¹¶å‘è¯·æ±‚åŒæ—¶è®¿é—®ï¼Œå¯¼è‡´éƒ½å»æŸ¥ DBã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³åŠæ³•&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨ &lt;strong&gt;äº’æ–¥é”ï¼ˆSETNXï¼‰&lt;/strong&gt; æ§åˆ¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹åŠ è½½æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;strong&gt;é€»è¾‘è¿‡æœŸ&lt;/strong&gt;ï¼šç¼“å­˜ä¸­ä¿å­˜è¿‡æœŸæ—¶é—´å­—æ®µï¼Œè¿‡æœŸåç”±åå°çº¿ç¨‹å¼‚æ­¥æ›´æ–°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id="4-ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©æ€ä¹ˆè§£å†³"&gt;4. ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šé›ªå´©æ˜¯å¤§é‡ key åŒæ—¶è¿‡æœŸï¼Œæ‰€æœ‰è¯·æ±‚éƒ½è®¿é—® DBï¼Œé€ æˆå‹åŠ›æš´å¢ã€‚&lt;br&gt;
&lt;strong&gt;è§£å†³åŠæ³•&lt;/strong&gt;ï¼šç»™ç¼“å­˜æ—¶é—´åŠ ä¸Šéšæœºå€¼ï¼Œè®© key çš„è¿‡æœŸæ—¶é—´åˆ†æ•£ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="5-redis-å’Œ-mysql-å¦‚ä½•ä¿æŒä¸€è‡´æ€§"&gt;5. Redis å’Œ MySQL å¦‚ä½•ä¿æŒä¸€è‡´æ€§ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šä¸¤ç§æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼ºä¸€è‡´æ€§&lt;/strong&gt;ï¼šç”¨ &lt;strong&gt;Redisson è¯»å†™é”&lt;/strong&gt;ï¼Œè¯»å†™äº’æ–¥ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ€ç»ˆä¸€è‡´æ€§&lt;/strong&gt;ï¼šç”¨ &lt;strong&gt;Canal ç›‘å¬ MySQL binlog&lt;/strong&gt;ï¼Œå®æ—¶æ›´æ–° Redisã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="6-redis-çš„æŒä¹…åŒ–æ–¹å¼æœ‰å“ªäº›"&gt;6. Redis çš„æŒä¹…åŒ–æ–¹å¼æœ‰å“ªäº›ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šæœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RDB&lt;/strong&gt;ï¼ˆå¿«ç…§ï¼‰ï¼šå®šæœŸå°†å†…å­˜æ•°æ®å†™å…¥ç£ç›˜ï¼Œæ¢å¤å¿«ä½†å¯èƒ½ä¸¢æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AOF&lt;/strong&gt;ï¼ˆè¿½åŠ æ—¥å¿—ï¼‰ï¼šè®°å½•å†™å‘½ä»¤ï¼Œæ¢å¤å®Œæ•´ä½†é€Ÿåº¦ç¨æ…¢ã€‚&lt;br&gt;
å®é™…é¡¹ç›®ä¸­å¤šé‡‡ç”¨ &lt;strong&gt;RDB + AOF æ··åˆæŒä¹…åŒ–&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="7-redis-çš„è¿‡æœŸåˆ é™¤ç­–ç•¥"&gt;7. Redis çš„è¿‡æœŸåˆ é™¤ç­–ç•¥ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šä¸¤ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æƒ°æ€§åˆ é™¤&lt;/strong&gt;ï¼šè®¿é—®æ—¶æ£€æŸ¥æ˜¯å¦è¿‡æœŸï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®šæœŸåˆ é™¤&lt;/strong&gt;ï¼šåå°å®šæ—¶æ‰«æéƒ¨åˆ† key åˆ é™¤ã€‚&lt;br&gt;
Redis å®é™…ä¸Šæ˜¯ä¸¤è€…ç»“åˆä½¿ç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="8-redis-çš„å†…å­˜æ·˜æ±°ç­–ç•¥"&gt;8. Redis çš„å†…å­˜æ·˜æ±°ç­–ç•¥ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šå¸¸è§çš„æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;noeviction&lt;/code&gt;ï¼šå†…å­˜æ»¡æ—¶æŠ¥é”™ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;allkeys-lru&lt;/code&gt;ï¼šæ·˜æ±°æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„æ•°æ®ï¼›&lt;/li&gt;
&lt;li&gt;&lt;code&gt;allkeys-lfu&lt;/code&gt;ï¼šæ·˜æ±°è®¿é—®é¢‘ç‡æœ€ä½çš„ã€‚&lt;br&gt;
æˆ‘ä»¬ä¸€èˆ¬è®¾ç½® &lt;code&gt;allkeys-lru&lt;/code&gt; ä¿è¯çƒ­ç‚¹æ•°æ®ç•™å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="9-redis-åˆ†å¸ƒå¼é”å¦‚ä½•å®ç°"&gt;9. Redis åˆ†å¸ƒå¼é”å¦‚ä½•å®ç°ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šé€šè¿‡ &lt;code&gt;SETNX&lt;/code&gt; å®ç°äº’æ–¥ï¼›ä¹Ÿå¯ä»¥ç”¨ &lt;strong&gt;Redisson&lt;/strong&gt;ï¼Œæ”¯æŒè‡ªåŠ¨ç»­æœŸï¼ˆçœ‹é—¨ç‹—æœºåˆ¶ï¼‰ã€å¯è®¾ç½®è¶…æ—¶ã€å¯é‡å…¥ï¼Œæ€§èƒ½æ›´å¥½ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="10-redisson-åˆ†å¸ƒå¼é”èƒ½ä¿è¯ä¸»ä»ä¸€è‡´å—"&gt;10. Redisson åˆ†å¸ƒå¼é”èƒ½ä¿è¯ä¸»ä»ä¸€è‡´å—ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šä¸èƒ½ã€‚ä¸»èŠ‚ç‚¹å®•æœºåï¼Œé”çŠ¶æ€å¯èƒ½ä¸åŒæ­¥åˆ°ä»èŠ‚ç‚¹ã€‚&lt;br&gt;
å¯ä½¿ç”¨ &lt;strong&gt;çº¢é”ï¼ˆRedLockï¼‰&lt;/strong&gt; åŒæ—¶åœ¨å¤šä¸ª Redis èŠ‚ç‚¹åŠ é”ï¼Œè¦æ±‚å¤§å¤šæ•°èŠ‚ç‚¹æˆåŠŸï¼Œä½†æ€§èƒ½è¾ƒå·®ï¼Œä¸€èˆ¬ä¸å»ºè®®ç”Ÿäº§ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="11-ä¸šåŠ¡éœ€è¦å¼ºä¸€è‡´æ€§è¯¥æ€ä¹ˆåŠ"&gt;11. ä¸šåŠ¡éœ€è¦å¼ºä¸€è‡´æ€§è¯¥æ€ä¹ˆåŠï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šå¦‚æœä¸šåŠ¡å¯¹ä¸€è‡´æ€§è¦æ±‚æé«˜ï¼Œå¯ä»¥ä½¿ç”¨ &lt;strong&gt;ZooKeeper åˆ†å¸ƒå¼é”&lt;/strong&gt;ï¼Œå®ƒèƒ½æä¾›å¼ºä¸€è‡´ä¿è¯ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="12-redis-é›†ç¾¤æœ‰å“ªäº›æ¨¡å¼"&gt;12. Redis é›†ç¾¤æœ‰å“ªäº›æ¨¡å¼ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šä¸»è¦æœ‰ä¸‰ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¸»ä»å¤åˆ¶&lt;/strong&gt;ï¼ˆè¯»å†™åˆ†ç¦»ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å“¨å…µæ¨¡å¼&lt;/strong&gt;ï¼ˆè‡ªåŠ¨æ•…éšœè½¬ç§»ï¼‰ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åˆ†ç‰‡é›†ç¾¤&lt;/strong&gt;ï¼ˆæµ·é‡æ•°æ®åˆ†å¸ƒå¼å­˜å‚¨ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id="13-ä¸»ä»åŒæ­¥çš„æµç¨‹"&gt;13. ä¸»ä»åŒæ­¥çš„æµç¨‹ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šåˆ†ä¸¤æ­¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å…¨é‡åŒæ­¥&lt;/strong&gt;ï¼šslave ç¬¬ä¸€æ¬¡è¿æ¥æ—¶ï¼Œmaster ç”Ÿæˆ RDB å¹¶ä¼ è¾“ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¢é‡åŒæ­¥&lt;/strong&gt;ï¼šslave é‡è¿åï¼Œé€šè¿‡ offset è·å–ä¸»èŠ‚ç‚¹çš„å¢é‡å‘½ä»¤æ—¥å¿—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="14-redis-è„‘è£‚æ€ä¹ˆè§£å†³"&gt;14. Redis è„‘è£‚æ€ä¹ˆè§£å†³ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šè„‘è£‚æ˜¯ä¸»ä»é—´ç½‘ç»œåˆ†åŒºï¼Œå‡ºç°ä¸¤ä¸ª masterã€‚&lt;br&gt;
å¯é€šè¿‡é…ç½®ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®æœ€å°‘ä»èŠ‚ç‚¹æ•°ï¼›&lt;/li&gt;
&lt;li&gt;é™åˆ¶ä¸»ä»å¤åˆ¶å»¶è¿Ÿé˜ˆå€¼ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="15-åˆ†ç‰‡é›†ç¾¤æ•°æ®å¦‚ä½•å­˜å‚¨"&gt;15. åˆ†ç‰‡é›†ç¾¤æ•°æ®å¦‚ä½•å­˜å‚¨ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šRedis é›†ç¾¤å¼•å…¥äº† &lt;strong&gt;16384 ä¸ªå“ˆå¸Œæ§½&lt;/strong&gt;ï¼Œkey é€šè¿‡ &lt;code&gt;CRC16(key) % 16384&lt;/code&gt; å®šä½åˆ°å¯¹åº”èŠ‚ç‚¹ï¼Œå®ç°è´Ÿè½½å‡è¡¡ä¸é«˜å¹¶å‘ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h4 id="16-redis-ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«"&gt;16. Redis ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šä¸»è¦å› ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®Œå…¨åŸºäºå†…å­˜ï¼›&lt;/li&gt;
&lt;li&gt;å•çº¿ç¨‹é¿å…é”ç«äº‰ï¼›&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ &lt;strong&gt;I/O å¤šè·¯å¤ç”¨ï¼ˆepollï¼‰&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;æ ¸å¿ƒå‘½ä»¤æ‰§è¡Œæµç¨‹æçŸ­ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id="17-ä»€ä¹ˆæ˜¯-io-å¤šè·¯å¤ç”¨"&gt;17. ä»€ä¹ˆæ˜¯ I/O å¤šè·¯å¤ç”¨ï¼Ÿ
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;ç­”&lt;/strong&gt;ï¼šä¸€ä¸ªçº¿ç¨‹åŒæ—¶ç›‘å¬å¤šä¸ª socketï¼Œå½“æŸä¸ª socket å¯è¯»/å†™æ—¶ç»Ÿä¸€å¤„ç†ï¼Œä¸ç”¨è½®è¯¢ã€‚&lt;br&gt;
Redis ä½¿ç”¨ &lt;strong&gt;epoll + äº‹ä»¶é©±åŠ¨æ¨¡å‹&lt;/strong&gt;ï¼Œé«˜æ•ˆå¤„ç†æˆåƒä¸Šä¸‡çš„è¿æ¥ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="æ€»ç»“"&gt;æ€»ç»“
&lt;/h3&gt;&lt;p&gt;Redis é¢è¯•çš„æ ¸å¿ƒåœ¨äºä¸‰ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¼“å­˜é—®é¢˜ä¸‰å…„å¼Ÿ&lt;/strong&gt;ï¼šç©¿é€ã€å‡»ç©¿ã€é›ªå´©ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸€è‡´æ€§ä¸æŒä¹…åŒ–&lt;/strong&gt;ï¼šRDBã€AOFã€é”æœºåˆ¶ï¼›&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;é«˜å¯ç”¨ä¸é«˜æ€§èƒ½&lt;/strong&gt;ï¼šä¸»ä»ã€å“¨å…µã€åˆ†ç‰‡ã€I/O æ¨¡å‹ã€‚&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>